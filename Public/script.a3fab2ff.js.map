{"version":3,"sources":["script.js"],"names":["forEach","array","callback","scope","i","length","call","durationInFrames","scrollABit","remainingScroll","idealScrollRate","requestAnimationFrame","scrollOnThisFrame","window","scrollBy","document","addEventListener","anchors","querySelectorAll","node","event","id","href","match","targetElement","querySelector","preventDefault","amountToScroll","getBoundingClientRect","top","scrollY","focus","HOVER_DELAY","primaryItems","hoverDelayHandler","primaryItemAnchors","submenuItemAnchors","submenuItemAnchorsLast","openClosestSubmenu","element","parentNode","methodToCheckIfSelectorMatches","getSelectorMatchesMethod","methodsToCheck","methodName","classList","add","closeSubmenuIfShiftAndTabArePressed","which","shiftKey","closeSubmenu","srcElement","remove","closeAllSubmenusIfTabIsPressed","item","setTimeout","clearTimeout","bind"],"mappings":";AAAA,IAAIA,EAAU,SAASC,EAAOC,EAAUC,GAC/B,IAAA,IAAIC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAC9BF,EAASI,KAAKH,EAAOF,EAAMG,GAAIA,IAGnCG,EAAmB,GAoBvB,SAASC,EAAWC,EAAiBC,EAAiBR,GAC9CO,EAAkB,EAClBE,sBAAsB,WACdC,IAAAA,EAAoBH,EAAkBC,EAAkBA,EAAkBD,EAC9EI,OAAOC,SAAS,EAAGF,GAEnBJ,EADAC,GAAmBG,EACSF,EAAiBR,KAGzB,mBAAbA,GACPA,IA5BZa,SAASC,iBAAiB,mBAAoB,WACtCC,IAAAA,EAAUF,SAASG,iBAAiB,gCACxClB,EAAQiB,EAAS,SAASE,GACtBA,EAAKH,iBAAiB,QAAS,SAASI,GAChCC,IAAAA,EAAK,KAAKC,KAAKC,MAAM,aACrBC,EAAgBT,SAASU,cAAcJ,GACvCG,GAAAA,EAAe,CACfJ,EAAMM,iBACFC,IAAAA,EAAiBH,EAAcI,wBAAwBC,IAAMhB,OAAOiB,QAExEtB,EAAWmB,EADMA,EAAiBpB,EACK,WACnCiB,EAAcO,iBAoBlC,IAAIC,EAAc,IAClBjB,SAASC,iBAAiB,mBAAoB,WACtCiB,IAIAC,EAJAD,EAAelB,SAASG,iBAAiB,+BACzCiB,EAAqBpB,SAASG,iBAAiB,sCAC/CkB,EAAqBrB,SAASG,iBAAiB,8CAC/CmB,EAAyBtB,SAASG,iBAAiB,6FA6B9CoB,SAAAA,EAAmBC,GAGjB,IAFHpB,IAAAA,EAAOoB,EAAQC,WACfC,EAYCC,SAAyBvB,GAEzB,IADDwB,IAAAA,EAAiB,CAAC,UAAW,kBAAmB,qBAC3CvC,EAAI,EAAGA,EAAIuC,EAAetC,SAAUD,EAAG,CACxCwC,IAAAA,EAAaD,EAAevC,GAC5Be,GAAAA,EAAKyB,GACL,OAAOA,EAER,MAAA,UAnB8BF,CAAyBvB,IACtDA,EAAKsB,GAAgC,8BACzCtB,EAAOA,EAAKqB,WAEhBrB,EAAK0B,UAAUC,IAAI,0CAGdC,SAAAA,EAAoC3B,GACrB,IAAhBA,EAAM4B,OAAe5B,EAAM6B,UAC3BC,EAAa9B,EAAM+B,WAAWX,YAa7BU,SAAAA,EAAa/B,GAClBA,EAAK0B,UAAUO,OAAO,0CAGjBC,SAAAA,EAA+BjC,GAChB,IAAhBA,EAAM4B,OAKVhD,EAAQiC,EAAc,SAASd,GAC3B+B,EAAa/B,KA7DrBnB,EAAQmC,EAAoB,SAASmB,GACjCA,EAAKtC,iBAAiB,aAAc,WAChCkB,EAAoBqB,WAAW,WAC3BC,aAAatB,GACbI,EAAmBhC,KAAK,KAAMgD,IAC/BtB,KACJ,GACHsB,EAAKtC,iBAAiB,UAAW+B,GAAqC,GACtEO,EAAKtC,iBAAiB,QAASsB,EAAmBmB,KAAK,KAAMH,IAAO,KAGxEtD,EAAQiC,EAAc,SAASqB,GAC3BA,EAAKtC,iBAAiB,aAAc,WAChCwC,aAAatB,GACbgB,EAAa5C,KAAK,KAAMgD,KACzB,KAGPtD,EAAQoC,EAAoB,SAASkB,GACjCA,EAAKtC,iBAAiB,QAASsB,EAAmBmB,KAAK,KAAMH,IAAO,KAGxEtD,EAAQqC,EAAwB,SAASiB,GACrCA,EAAKtC,iBAAiB,UAAWqC,GAAgC","file":"script.a3fab2ff.js","sourceRoot":"..","sourcesContent":["var forEach = function(array, callback, scope) {\r\n    for (var i = 0; i < array.length; i++) {\r\n        callback.call(scope, array[i], i);\r\n    }\r\n};\r\nvar durationInFrames = 20;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    var anchors = document.querySelectorAll('a[href*=\"#\"]:not([href=\"#\"])');\r\n    forEach(anchors, function(node) {\r\n        node.addEventListener('click', function(event) {\r\n            var id = this.href.match(/\\#[\\w-]+$/);\r\n            var targetElement = document.querySelector(id);\r\n            if (targetElement) {\r\n                event.preventDefault();\r\n                var amountToScroll = targetElement.getBoundingClientRect().top - window.scrollY;\r\n                var scrollRate = amountToScroll / durationInFrames;\r\n                scrollABit(amountToScroll, scrollRate, function() {\r\n                    targetElement.focus();\r\n                });\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nfunction scrollABit(remainingScroll, idealScrollRate, callback) {\r\n    if (remainingScroll > 0) {\r\n        requestAnimationFrame(function() {\r\n            var scrollOnThisFrame = remainingScroll > idealScrollRate ? idealScrollRate : remainingScroll;\r\n            window.scrollBy(0, scrollOnThisFrame);\r\n            remainingScroll -= scrollOnThisFrame;\r\n            scrollABit(remainingScroll, idealScrollRate, callback);\r\n        });\r\n    } else {\r\n        if (typeof callback === 'function')\r\n            callback();\r\n    }\r\n}\r\nvar HOVER_DELAY = 100;\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    var primaryItems = document.querySelectorAll('.js-primary-navigation-item');\r\n    var primaryItemAnchors = document.querySelectorAll('.js-primary-navigation-item-anchor');\r\n    var submenuItemAnchors = document.querySelectorAll('.js-primary-navigation-submenu-item-anchor');\r\n    var submenuItemAnchorsLast = document.querySelectorAll('.js-primary-navigation-submenu-item:last-child .js-primary-navigation-submenu-item-anchor');\r\n    var hoverDelayHandler;\r\n\r\n    forEach(primaryItemAnchors, function(item) {\r\n        item.addEventListener('mouseenter', function() {\r\n            hoverDelayHandler = setTimeout(function() {\r\n                clearTimeout(hoverDelayHandler);\r\n                openClosestSubmenu.call(null, item);\r\n            }, HOVER_DELAY);\r\n        }, false);\r\n        item.addEventListener('keydown', closeSubmenuIfShiftAndTabArePressed, false);\r\n        item.addEventListener('focus', openClosestSubmenu.bind(null, item), false);\r\n    });\r\n\r\n    forEach(primaryItems, function(item) {\r\n        item.addEventListener('mouseleave', function() {\r\n            clearTimeout(hoverDelayHandler);\r\n            closeSubmenu.call(null, item);\r\n        }, false);\r\n    });\r\n\r\n    forEach(submenuItemAnchors, function(item) {\r\n        item.addEventListener('focus', openClosestSubmenu.bind(null, item), false);\r\n    });\r\n\r\n    forEach(submenuItemAnchorsLast, function(item) {\r\n        item.addEventListener('keydown', closeAllSubmenusIfTabIsPressed, false);\r\n    });\r\n\r\n    function openClosestSubmenu(element) {\r\n        var node = element.parentNode;\r\n        var methodToCheckIfSelectorMatches = getSelectorMatchesMethod(node);\r\n        while (!node[methodToCheckIfSelectorMatches]('.primary-navigation__item')) {\r\n            node = node.parentNode;\r\n        }\r\n        node.classList.add('primary-navigation__item--open-submenu');\r\n    }\r\n\r\n    function closeSubmenuIfShiftAndTabArePressed(event) {\r\n        if (event.which === 9 && event.shiftKey)\r\n            closeSubmenu(event.srcElement.parentNode);\r\n    }\r\n\r\n    function getSelectorMatchesMethod(node) {\r\n        var methodsToCheck = [\"matches\", \"matchesSelector\", \"msMatchesSelector\"];\r\n        for (var i = 0; i < methodsToCheck.length; ++i) {\r\n            var methodName = methodsToCheck[i];\r\n            if (node[methodName])\r\n                return methodName;\r\n        }\r\n        return \"matches\";\r\n    }\r\n\r\n    function closeSubmenu(node) {\r\n        node.classList.remove('primary-navigation__item--open-submenu');\r\n    }\r\n\r\n    function closeAllSubmenusIfTabIsPressed(event) {\r\n        if (event.which === 9)\r\n            closeAllSubmenus();\r\n    }\r\n\r\n    function closeAllSubmenus() {\r\n        forEach(primaryItems, function(node) {\r\n            closeSubmenu(node)\r\n        });\r\n    }\r\n});"]}