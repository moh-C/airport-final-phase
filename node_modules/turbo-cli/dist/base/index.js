var fs=require("fs"),Promise=require("bluebird"),shell=require("shelljs"),path=require("path"),bases={startup:"https://github.com/Turbo-360/base-startup.git",performer:"https://github.com/Turbo-360/base-performer.git"};module.exports={installBase:function(e){return new Promise(function(r,s){var l=bases[e];if(null==l)return void s(new Error('Base "'+e+'" not found'));if(0!==shell.exec("git clone "+l).code)return shell.echo("Error: Git clone failed"),void s(new Error("Git clone failed"));var o="base-"+e;shell.rm("-rf","routes"),shell.mkdir("-p","routes"),shell.cp("-R",o+"/routes/*","routes/"),shell.rm("-rf","views"),shell.mkdir("-p","views"),shell.cp("-R",o+"/views/*","views/"),shell.rm("-rf","controllers"),shell.mkdir("-p","controllers"),shell.cp("-R",o+"/controllers/*","controllers/"),shell.cp("-R",o+"/app.js","app.js"),shell.rm("-rf",o),r({confirmation:"success",data:"Base implemented"})})}};